import"./base-59bc21bd.js";import{E as y}from "./el-input-3f30a5c7.js";import{E as D}from "./el-avatar-83a5c01b.js";import{E as k,a as L}from "./el-menu-item-93068572.js";import"./el-popper-44cd3356.js";import{E as T}from "./el-image-viewer-d764d364.js";import{v as f}from "./runtime-dom.esm-bundler-5dfda05a.js";import{u as M,a as P,s as B}from "./news-14d20405.js";import{W as z,I as w,L as A,c as _,Y as e,a as s,V as c,Z as d,a6 as x,ac as i,F as E,ab as F,o as u,$ as S,a0 as H,a1 as q,_ as G}from "./_plugin-vue_export-helper-db55c57b.js";import"./index-abc4dcdb.js";import"./error-f1912ce6.js";import"./index-16fe3321.js";import"./aria-06e80a3d.js";import"./vnode-dc4413bd.js";import"./pinia-753b0366.js";const p= a=>(H("data-v-d2485808"),a=a(),q(),a),U=p(()=>e("div",{class:"header"},[e("h2",null,"志愿活动详情PAGE")],-1)),W={class:"picture"},Y={class:"information"},Z=p(()=>e("h3",null,"志愿者资讯信息",-1)),$=p(()=>e("h3",null,"内容",-1)),j=["innerHTML"],J={class:"comment"},K={class:"text-area"},O={class:"username"},Q={class:"comment-content"},R=z({__name:"newsDetail",setup(a){const o=M().nextLookNew,m=w("info"),l=w(""),r=A([]);P(o.new_id).then(t=>{r.push(...t.data.data)}).catch(t=>{console.log("getNewsComment",t)});const g=()=>{B(o.new_id,l.value).then(t=>{r.unshift(t.data.data)}).catch(t=>{console.log("handlePublishComment",t)}).finally(()=>{l.value=""})},I= t=>{m.value=t};return(t, h)=>{const C=T,v=k,N=L,V=D,b=y;return u(),_(E,null,[U,e("div",W,[s(C,{src:c(o).picture},null,8,["src"])]),s(N,{class:"el-menu-demo",mode:"horizontal","default-active":"info",onSelect:I},{default:d(()=>[s(v,{index:"info"},{default:d(()=>[S("志愿者资讯")]),_:1}),s(v,{index:"comment"},{default:d(()=>[S("评论")]),_:1})]),_:1}),x(e("div",Y,[Z,e("p",null,"标题: "+i(c(o).title),1),e("p",null,"发布时间: "+i(new Date(c(o).publish_time).toString()),1),$,e("div",{class:"content",innerHTML:c(o).content},null,8,j)],512),[[f,m.value==="info"]]),x(e("div",J,[e("ul",null,[(u(!0),_(E,null,F(r,(n, ee)=>(u(),_("li",{key:n.cId,class:"comment-item"},[s(V,{shape:"square",size:40,src:n.avater},null,8,["src"]),e("div",K,[e("p",O,i(n.username),1),e("p",Q,i(n.content),1)])]))),128))]),s(b,{modelValue:l.value,"onUpdate:modelValue":h[0]||(h[0]= n=>l.value=n),rows:4,type:"textarea",placeholder:"Please input"},null,8,["modelValue"]),e("button",{class:"comment-button",onClick:g},"发布")],512),[[f,m.value==="comment"]])],64)}}});const ve=G(R,[["__scopeId","data-v-d2485808"]]);export{ve as default};
