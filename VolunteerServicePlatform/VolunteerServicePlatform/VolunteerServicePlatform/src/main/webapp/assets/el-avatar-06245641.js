import{b as k,i as v,F as z,j as _,a as b,aa as w,E as C,_ as A,w as B}from "./base-59bc21bd.js";import{e as P}from "./index-8ea7482c.js";import{W as d,I,T as i,b as N,K as T,o,c as u,aa as m,V as n,a5 as f,Z as j,ai as F,a9 as L,a7 as V}from "./_plugin-vue_export-helper-db55c57b.js";const q=k({size:{type:[Number,String],values:P,default:"",validator: a=>v(a)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:z},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:_(String),default:"cover"}}),D={error: a=>a instanceof Event},K=["src","alt","srcset"],U=d({name:"ElAvatar"}),W=d({...U,props:q,emits:D,setup(a, {emit:y}){const t=a,e=b("avatar"),c=I(!1),S=i(()=>{const{size:s,icon:l,shape:p}=t,r=[e.b()];return N(s)&&r.push(e.m(s)),l&&r.push(e.m("icon")),p&&r.push(e.m(p)),r}),h=i(()=>{const{size:s}=t;return v(s)?e.cssVarBlock({size:w(s)||""}):void 0}),E=i(()=>({objectFit:t.fit}));T(()=>t.src,()=>c.value=!1);function g(s){c.value=!0,y("error",s)}return(s, l)=>(o(),u("span",{class:V(n(S)),style:m(n(h))},[(s.src||s.srcSet)&&!c.value?(o(),u("img",{key:0,src:s.src,alt:s.alt,srcset:s.srcSet,style:m(n(E)),onError:g},null,44,K)):s.icon?(o(),f(n(C),{key:1},{default:j(()=>[(o(),f(F(s.icon)))]),_:1})):L(s.$slots,"default",{key:2})],6))}});var Z=A(W,[["__file","/home/runner/work/element-plus/element-plus/packages/components/avatar/src/avatar.vue"]]);const J=B(Z);export{J as E};
