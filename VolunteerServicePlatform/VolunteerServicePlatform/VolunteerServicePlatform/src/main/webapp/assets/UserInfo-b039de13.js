import{l as p}from "./index-8f2c80ed.js";import{E as f,a as c}from "./el-form-item-eb9f0a15.js";import{E as _}from "./el-input-08805023.js";import{c as P}from "./user-168e9568.js";import{q as g,b as w,d as F,E as V,U as s,z as l,o as b,R as E}from "./index-fe68f829.js";import"./event-82466d06.js";import"./upload-ae68905d.js";const h={class:"user-info-control"},I=g({__name:"UserInfo",setup(y){const n=w(),e=F({ruleForm:{prePass:"",newPass:"",confirmPass:""},checked:!0,rules:{prePass:[{required:!0,message:"账户不能为空",trigger:"blur"}],newPass:[{required:!0,message:"密码不能为空",trigger:"blur"}],confirmPass:[{required:!0,message:"密码不能为空",validator:(a, r, o)=>{r!==e.ruleForm.newPass?o(new Error("与原密码不相同")):o()}}]}}),u=()=>{var a;(a=n.value)==null||a.validate(r=>{if(r)P(e.ruleForm.prePass,e.ruleForm.newPass,e.ruleForm.confirmPass).then(o=>{console.log("changePassword res",o)}).catch(o=>{});else return console.log("error submit!!"),!1})};return(a, r)=>{const o=_,m=f,i=p,d=c;return b(),V("div",h,[s(d,{"label-position":"right",rules:e.rules,model:e.ruleForm,ref_key:"loginForm",ref:n,class:"login-form","label-width":"120px"},{default:l(()=>[s(m,{label:"原密码",prop:"prePass"},{default:l(()=>[s(o,{type:"text",modelValue:e.ruleForm.prePass,"onUpdate:modelValue":r[0]||(r[0]= t=>e.ruleForm.prePass=t),modelModifiers:{trim:!0},autocomplete:"off"},null,8,["modelValue"])]),_:1}),s(m,{label:"密码",prop:"newPass"},{default:l(()=>[s(o,{type:"password",modelValue:e.ruleForm.newPass,"onUpdate:modelValue":r[1]||(r[1]= t=>e.ruleForm.newPass=t),modelModifiers:{trim:!0},autocomplete:"off"},null,8,["modelValue"])]),_:1}),s(m,{label:"确定密码",prop:"confirmPass"},{default:l(()=>[s(o,{type:"password",modelValue:e.ruleForm.confirmPass,"onUpdate:modelValue":r[2]||(r[2]= t=>e.ruleForm.confirmPass=t),modelModifiers:{trim:!0},autocomplete:"off"},null,8,["modelValue"])]),_:1}),s(m,null,{default:l(()=>[s(i,{size:"large",type:"primary",style:{width:"100%"},onClick:u},{default:l(()=>[E("修改")]),_:1})]),_:1})]),_:1},8,["rules","model"])])}}});export{I as default};
