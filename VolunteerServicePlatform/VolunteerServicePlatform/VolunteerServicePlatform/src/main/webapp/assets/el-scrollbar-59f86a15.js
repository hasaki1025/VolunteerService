import{U as Z,g as J,d as Q,e as j,S as U,f as _e}from "./_baseClone-4dd72471.js";import{a7 as Se,S as V,a8 as be,M as k,a9 as ee,b as K,a as de,p as X,_ as q,h as pe,j as Te,i as H,aa as te,u as Ee,w as Ae,x as Pe}from "./base-59bc21bd.js";import{x as Le,W as I,O as Re,I as _,T as x,a4 as Oe,al as ae,o as C,a5 as Y,Z as me,a6 as xe,Y as F,a7 as B,V as T,aa as G,c as ge,a as ne,F as ze,K as se,R as re,X as He,L as Ce,a3 as Be,n as Me,a9 as Ne,ai as $e,a8 as De,g as Ie}from "./_plugin-vue_export-helper-db55c57b.js";import{v as Ue,T as We}from "./index-9b6ac78d.js";import{t as Xe}from "./error-f1912ce6.js";var Ye="__lodash_hash_undefined__";function Fe(e){return this.__data__.set(e,Ye),this}function Ge(e){return this.__data__.has(e)}function D(e){var t=-1,a=e==null?0:e.length;for(this.__data__=new Se; ++t<a;)this.add(e[t])}D.prototype.add=D.prototype.push=Fe;D.prototype.has=Ge;function Ke(e, t){for(var a=-1,n=e==null?0:e.length; ++a<n;)if(t(e[a],a,e))return!0;return!1}function qe(e, t){return e.has(t)}var Ze=1,Je=2;function he(e, t, a, n, u, s){var r=a&Ze,c=e.length,l=t.length;if(c!=l&&!(r&&l>c))return!1;var v=s.get(e),m=s.get(t);if(v&&m)return v==t&&m==e;var i=-1,f=!0,g=a&Je?new D:void 0;for(s.set(e,t),s.set(t,e); ++i<c;){var p=e[i],y=t[i];if(n)var S=r?n(y,p,i,t,e,s):n(p,y,i,e,t,s);if(S!==void 0){if(S)continue;f=!1;break}if(g){if(!Ke(t,function(b, w){if(!qe(g,w)&&(p===b||u(p,b,a,n,s)))return g.push(w)})){f=!1;break}}else if(!(p===y||u(p,y,a,n,s))){f=!1;break}}return s.delete(e),s.delete(t),f}function Qe(e){var t=-1,a=Array(e.size);return e.forEach(function(n, u){a[++t]=[u,n]}),a}function je(e){var t=-1,a=Array(e.size);return e.forEach(function(n){a[++t]=n}),a}var Ve=1,ke=2,et="[object Boolean]",tt="[object Date]",at="[object Error]",nt="[object Map]",st="[object Number]",rt="[object RegExp]",lt="[object Set]",ot="[object String]",it="[object Symbol]",ut="[object ArrayBuffer]",ct="[object DataView]",le=V?V.prototype:void 0,W=le?le.valueOf:void 0;function ft(e, t, a, n, u, s, r){switch(a){case ct:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ut:return!(e.byteLength!=t.byteLength||!s(new Z(e),new Z(t)));case et:case tt:case st:return be(+e,+t);case at:return e.name==t.name&&e.message==t.message;case rt:case ot:return e==t+"";case nt:var c=Qe;case lt:var l=n&Ve;if(c||(c=je),e.size!=t.size&&!l)return!1;var v=r.get(e);if(v)return v==t;n|=ke,r.set(e,t);var m=he(c(e),c(t),n,u,s,r);return r.delete(e),m;case it:if(W)return W.call(e)==W.call(t)}return!1}var vt=1,dt=Object.prototype,pt=dt.hasOwnProperty;function mt(e, t, a, n, u, s){var r=a&vt,c=J(e),l=c.length,v=J(t),m=v.length;if(l!=m&&!r)return!1;for(var i=l; i--;){var f=c[i];if(!(r?f in t:pt.call(t,f)))return!1}var g=s.get(e),p=s.get(t);if(g&&p)return g==t&&p==e;var y=!0;s.set(e,t),s.set(t,e);for(var S=r; ++i<l;){f=c[i];var b=e[f],w=t[f];if(n)var R=r?n(w,b,f,t,e,s):n(b,w,f,e,t,s);if(!(R===void 0?b===w||u(b,w,a,n,s):R)){y=!1;break}S||(S=f=="constructor")}if(y&&!S){var A=e.constructor,E=t.constructor;A!=E&&"constructor"in e&&"constructor"in t&&!(typeof A=="function"&&A instanceof A&&typeof E=="function"&&E instanceof E)&&(y=!1)}return s.delete(e),s.delete(t),y}var gt=1,oe="[object Arguments]",ie="[object Array]",$="[object Object]",ht=Object.prototype,ue=ht.hasOwnProperty;function yt(e, t, a, n, u, s){var r=k(e),c=k(t),l=r?ie:Q(e),v=c?ie:Q(t);l=l==oe?$:l,v=v==oe?$:v;var m=l==$,i=v==$,f=l==v;if(f&&j(e)){if(!j(t))return!1;r=!0,m=!1}if(f&&!m)return s||(s=new U),r||_e(e)?he(e,t,a,n,u,s):ft(e,t,l,a,n,u,s);if(!(a&gt)){var g=m&&ue.call(e,"__wrapped__"),p=i&&ue.call(t,"__wrapped__");if(g||p){var y=g?e.value():e,S=p?t.value():t;return s||(s=new U),u(y,S,a,n,s)}}return f?(s||(s=new U),mt(e,t,a,n,u,s)):!1}function ye(e, t, a, n, u){return e===t?!0:e==null||t==null||!ee(e)&&!ee(t)?e!==e&&t!==t:yt(e,t,a,n,ye,u)}function Dt(e, t){return ye(e,t)}const It=(e="")=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),Ut= e=>Le(e),we=Symbol("scrollbarContextKey"),O=4,wt={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},_t=({move:e,size:t,bar:a})=>({[a.size]:t,transform:`translate${a.axis}(${e}%)`}),St=K({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),bt="Thumb",Tt=I({__name:"thumb",props:St,setup(e){const t=e,a=Re(we),n=de("scrollbar");a||Xe(bt,"can not inject scrollbar context");const u=_(),s=_(),r=_({}),c=_(!1);let l=!1,v=!1,m=pe?document.onselectstart:null;const i=x(()=>wt[t.vertical?"vertical":"horizontal"]),f=x(()=>_t({size:t.size,move:t.move,bar:i.value})),g=x(()=>u.value[i.value.offset]**2/a.wrapElement[i.value.scrollSize]/t.ratio/s.value[i.value.offset]),p= d=>{var o;if(d.stopPropagation(),d.ctrlKey||[1,2].includes(d.button))return;(o=window.getSelection())==null||o.removeAllRanges(),S(d);const h=d.currentTarget;h&&(r.value[i.value.axis]=h[i.value.offset]-(d[i.value.client]-h.getBoundingClientRect()[i.value.direction]))},y= d=>{if(!s.value||!u.value||!a.wrapElement)return;const o=Math.abs(d.target.getBoundingClientRect()[i.value.direction]-d[i.value.client]),h=s.value[i.value.offset]/2,L=(o-h)*100*g.value/u.value[i.value.offset];a.wrapElement[i.value.scroll]=L*a.wrapElement[i.value.scrollSize]/100},S= d=>{d.stopImmediatePropagation(),l=!0,document.addEventListener("mousemove",b),document.addEventListener("mouseup",w),m=document.onselectstart,document.onselectstart=()=>!1},b= d=>{if(!u.value||!s.value||l===!1)return;const o=r.value[i.value.axis];if(!o)return;const h=(u.value.getBoundingClientRect()[i.value.direction]-d[i.value.client])*-1,L=s.value[i.value.offset]-o,z=(h-L)*100*g.value/u.value[i.value.offset];a.wrapElement[i.value.scroll]=z*a.wrapElement[i.value.scrollSize]/100},w=()=>{l=!1,r.value[i.value.axis]=0,document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",w),E(),v&&(c.value=!1)},R=()=>{v=!1,c.value=!!t.size},A=()=>{v=!0,c.value=l};Oe(()=>{E(),document.removeEventListener("mouseup",w)});const E=()=>{document.onselectstart!==m&&(document.onselectstart=m)};return X(ae(a,"scrollbarElement"),"mousemove",R),X(ae(a,"scrollbarElement"),"mouseleave",A),(d, o)=>(C(),Y(We,{name:T(n).b("fade"),persisted:""},{default:me(()=>[xe(F("div",{ref_key:"instance",ref:u,class:B([T(n).e("bar"),T(n).is(T(i).key)]),onMousedown:y},[F("div",{ref_key:"thumb",ref:s,class:B(T(n).e("thumb")),style:G(T(f)),onMousedown:p},null,38)],34),[[Ue,d.always||c.value]])]),_:1},8,["name"]))}});var ce=q(Tt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);const Et=K({always:{type:Boolean,default:!0},width:String,height:String,ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),At=I({__name:"bar",props:Et,setup(e, {expose:t}){const a=e,n=_(0),u=_(0);return t({handleScroll: r=>{if(r){const c=r.offsetHeight-O,l=r.offsetWidth-O;u.value=r.scrollTop*100/c*a.ratioY,n.value=r.scrollLeft*100/l*a.ratioX}}}),(r, c)=>(C(),ge(ze,null,[ne(ce,{move:n.value,ratio:r.ratioX,size:r.width,always:r.always},null,8,["move","ratio","size","always"]),ne(ce,{move:u.value,ratio:r.ratioY,size:r.height,vertical:"",always:r.always},null,8,["move","ratio","size","always"])],64))}});var Pt=q(At,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);const Lt=K({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:Te([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20}}),Rt={scroll:({scrollTop:e,scrollLeft:t})=>[e,t].every(H)},Ot="ElScrollbar",xt=I({name:Ot}),zt=I({...xt,props:Lt,emits:Rt,setup(e, {expose:t,emit:a}){const n=e,u=de("scrollbar");let s,r;const c=_(),l=_(),v=_(),m=_("0"),i=_("0"),f=_(),g=_(1),p=_(1),y=x(()=>{const o={};return n.height&&(o.height=te(n.height)),n.maxHeight&&(o.maxHeight=te(n.maxHeight)),[n.wrapStyle,o]}),S=x(()=>[n.wrapClass,u.e("wrap"),{[u.em("wrap","hidden-default")]:!n.native}]),b=x(()=>[u.e("view"),n.viewClass]),w=()=>{var o;l.value&&((o=f.value)==null||o.handleScroll(l.value),a("scroll",{scrollTop:l.value.scrollTop,scrollLeft:l.value.scrollLeft}))};function R(o, h){Ie(o)?l.value.scrollTo(o):H(o)&&H(h)&&l.value.scrollTo(o,h)}const A= o=>{H(o)&&(l.value.scrollTop=o)},E= o=>{H(o)&&(l.value.scrollLeft=o)},d=()=>{if(!l.value)return;const o=l.value.offsetHeight-O,h=l.value.offsetWidth-O,L=o**2/l.value.scrollHeight,z=h**2/l.value.scrollWidth,M=Math.max(L,n.minSize),N=Math.max(z,n.minSize);g.value=L/(o-L)/(M/(o-M)),p.value=z/(h-z)/(N/(h-N)),i.value=M+O<o?`${M}px`:"",m.value=N+O<h?`${N}px`:""};return se(()=>n.noresize, o=>{o?(s==null||s(),r==null||r()):({stop:s}=Ee(v,d),r=X("resize",d))},{immediate:!0}),se(()=>[n.maxHeight,n.height],()=>{n.native||re(()=>{var o;d(),l.value&&((o=f.value)==null||o.handleScroll(l.value))})}),He(we,Ce({scrollbarElement:c,wrapElement:l})),Be(()=>{n.native||re(()=>{d()})}),Me(()=>d()),t({wrapRef:l,update:d,scrollTo:R,setScrollTop:A,setScrollLeft:E,handleScroll:w}),(o, h)=>(C(),ge("div",{ref_key:"scrollbarRef",ref:c,class:B(T(u).b())},[F("div",{ref_key:"wrapRef",ref:l,class:B(T(S)),style:G(T(y)),onScroll:w},[(C(),Y($e(o.tag),{ref_key:"resizeRef",ref:v,class:B(T(b)),style:G(o.viewStyle)},{default:me(()=>[Ne(o.$slots,"default")]),_:3},8,["class","style"]))],38),o.native?De("v-if",!0):(C(),Y(Pt,{key:0,ref_key:"barRef",ref:f,height:i.value,width:m.value,always:o.always,"ratio-x":p.value,"ratio-y":g.value},null,8,["height","width","always","ratio-x","ratio-y"]))],2))}});var Ht=q(zt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);const Wt=Ae(Ht),P=new Map;let fe;pe&&(document.addEventListener("mousedown", e=>fe=e),document.addEventListener("mouseup", e=>{for(const t of P.values())for(const{documentHandler:a}of t)a(e,fe)}));function ve(e, t){let a=[];return Array.isArray(t.arg)?a=t.arg:Pe(t.arg)&&a.push(t.arg),function(n, u){const s=t.instance.popperRef,r=n.target,c=u==null?void 0:u.target,l=!t||!t.instance,v=!r||!c,m=e.contains(r)||e.contains(c),i=e===r,f=a.length&&a.some(p=>p==null?void 0:p.contains(r))||a.length&&a.includes(c),g=s&&(s.contains(r)||s.contains(c));l||v||m||i||f||g||t.value(n,u)}}const Xt={beforeMount(e, t){P.has(e)||P.set(e,[]),P.get(e).push({documentHandler:ve(e,t),bindingFn:t.value})},updated(e, t){P.has(e)||P.set(e,[]);const a=P.get(e),n=a.findIndex(s=>s.bindingFn===t.oldValue),u={documentHandler:ve(e,t),bindingFn:t.value};n>=0?a.splice(n,1,u):a.push(u)},unmounted(e){P.delete(e)}};export{Xt as C,Wt as E,Ut as c,It as e,Dt as i};
