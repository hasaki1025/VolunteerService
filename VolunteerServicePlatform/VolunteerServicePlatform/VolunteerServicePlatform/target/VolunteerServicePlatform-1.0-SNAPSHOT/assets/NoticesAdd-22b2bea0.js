import{l as x}from "./index-8666cb90.js";import{E as y,a as N}from "./el-form-item-0fd4893f.js";import{E as C}from "./el-progress-985d4cbc.js";import{E as I}from "./el-date-picker-ae96efbf.js";import{E as k}from "./el-input-b1cbee16.js";/* empty css                     *//* empty css                  */import{T as w,E as U}from "./index.esm-ec0fd98f.js";import{s as A}from "./notice-3699dc1c.js";import{r as u,e as B}from "./index-fec54450.js";import{q as S,s as T,I as Y,d as D,b as R,E as F,Q as m,U as e,u as i,z as a,o as M,R as _,W as O,X as P}from "./index-4cca8065.js";import{_ as q}from "./_plugin-vue_export-helper-c27b6911.js";import"./event-82466d06.js";import"./index-67a21231.js";import"./index-0bf99d73.js";import"./upload-bb522c40.js";const z= s=>(O("data-v-5ad32e16"),s=s(),P(),s),G={class:"container"},Q={style:{border:"1px solid #ccc"},class:"editor"},W={class:"inputs-container"},X=z(()=>m("div",{class:"el-upload__text"},"拖拽或点击上传图片",-1)),j=S({__name:"NoticesAdd",setup(s){const r=T(),f= o=>{r.value=o};Y(()=>{const o=r.value;o!=null&&o.destroy()});const t=D({n_id:-1,title:"",picture:"",content:"",publish_time:""}),c=R(),h= o=>{c.value=o.raw},E=()=>{A(t.title,c.value,t.content,t.publish_time).then(o=>{console.log("sendNotice result: ",o.data),u.push({name:B})}).catch(o=>{console.log("sendNotice",o)})};return(o, l)=>{const b=k,n=y,v=I,V=C,p=x,g=N;return M(),F("div",G,[m("div",Q,[e(i(w),{style:{"border-bottom":"1px solid #ccc"},editor:i(r),defaultConfig:{},mode:"default"},null,8,["editor"]),e(i(U),{style:{height:"500px","overflow-y":"hidden"},modelValue:t.content,"onUpdate:modelValue":l[0]||(l[0]= d=>t.content=d),defaultConfig:{placeholder:"请输入内容..."},mode:"default",onOnCreated:f},null,8,["modelValue","defaultConfig"])]),m("div",W,[e(g,{model:t,"label-width":"80px"},{default:a(()=>[e(n,{label:"标题"},{default:a(()=>[e(b,{modelValue:t.title,"onUpdate:modelValue":l[1]||(l[1]= d=>t.title=d)},null,8,["modelValue"])]),_:1}),e(n,{label:"选择时间"},{default:a(()=>[e(v,{modelValue:t.publish_time,"onUpdate:modelValue":l[2]||(l[2]= d=>t.publish_time=d),type:"datetime","value-format":"YYYY-MM-DD h:m:s ",placeholder:"选择时间"},null,8,["modelValue"])]),_:1}),e(n,{label:"选择图片"},{default:a(()=>[e(V,{class:"upload-demo",drag:"","auto-upload":!1,limit:1,"on-change":h},{default:a(()=>[X]),_:1})]),_:1}),e(n,null,{default:a(()=>[e(p,{type:"primary",onClick:E},{default:a(()=>[_("确定")]),_:1}),e(p,{type:"danger",onClick:l[3]||(l[3]=()=>{i(u).back()})},{default:a(()=>[_("取消")]),_:1})]),_:1})]),_:1},8,["model"])])])}}});const me=q(j,[["__scopeId","data-v-5ad32e16"]]);export{me as default};
