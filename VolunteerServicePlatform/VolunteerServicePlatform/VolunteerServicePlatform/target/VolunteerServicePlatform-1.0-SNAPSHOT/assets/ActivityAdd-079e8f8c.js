import{l as C}from "./index-8666cb90.js";import{E as S,a as T}from "./el-form-item-0fd4893f.js";import{E as w}from "./el-progress-985d4cbc.js";import{E as B}from "./el-input-number-7e4a2091.js";import{E as Y}from "./el-input-b1cbee16.js";import{E as N}from "./el-date-picker-ae96efbf.js";/* empty css                     *//* empty css                  */import"./el-tag-ef70e8e0.js";import{E as D,a as F}from "./el-select-2d90b3da.js";import{T as L,E as R}from "./index.esm-ec0fd98f.js";import{b as z}from "./activity-539acf45.js";import{u as M}from "./tags-1f09f47b.js";import{r as f,c as O}from "./index-fec54450.js";import{q,s as P,I as Q,d as W,b as X,E as v,Q as p,U as t,u as s,z as a,o as u,L as $,Y as j,R as V,c as G,W as H,X as J}from "./index-4cca8065.js";import{_ as K}from "./_plugin-vue_export-helper-c27b6911.js";import"./event-82466d06.js";import"./index-67a21231.js";import"./index-0bf99d73.js";import"./upload-bb522c40.js";import"./pinia-fc5ecdb0.js";const Z= m=>(H("data-v-32ceeb4b"),m=m(),J(),m),ee={class:"container"},te={style:{border:"1px solid #ccc"},class:"editor"},oe={class:"inputs-container"},le=Z(()=>p("div",{class:"el-upload__text"},"拖拽或点击上传图片",-1)),ae=q({__name:"ActivityAdd",setup(m){const b=M(),i=P(),y= n=>{i.value=n};Q(()=>{const n=i.value;n!=null&&n.destroy()});const e=W({a_id:-1,a_num:"",activity_name:"",tag:"",time:"",need_num:3,left_num:0,late_click_time:"",click_times:0,contact_person:"",contact_telephone:"",picture:"",description:""}),c=X(),g= n=>{c.value=n.raw},E=()=>{z(e.a_num,e.tag,e.activity_name,c.value,e.time,e.need_num,e.description,e.contact_person,e.contact_telephone).then(n=>{console.log("addActivity result: ",n.data),f.push({name:O})}).catch(n=>{console.log(`addActivity error ${n}`)})};return(n, l)=>{const r=Y,d=S,A=D,k=F,x=N,I=B,U=w,_=C,h=T;return u(),v("div",ee,[p("div",te,[t(s(L),{style:{"border-bottom":"1px solid #ccc"},editor:s(i),defaultConfig:{},mode:"default"},null,8,["editor"]),t(s(R),{style:{height:"500px","overflow-y":"hidden"},modelValue:e.description,"onUpdate:modelValue":l[0]||(l[0]= o=>e.description=o),defaultConfig:{placeholder:"请输入内容..."},mode:"default",onOnCreated:y},null,8,["modelValue","defaultConfig"])]),p("div",oe,[t(h,{model:e,"label-width":"120px"},{default:a(()=>[t(d,{label:"活动编号"},{default:a(()=>[t(r,{modelValue:e.a_num,"onUpdate:modelValue":l[1]||(l[1]= o=>e.a_num=o)},null,8,["modelValue"])]),_:1}),t(d,{label:"活动名称"},{default:a(()=>[t(r,{modelValue:e.activity_name,"onUpdate:modelValue":l[2]||(l[2]= o=>e.activity_name=o)},null,8,["modelValue"])]),_:1}),t(d,{label:"活动类型"},{default:a(()=>[t(k,{modelValue:e.tag,"onUpdate:modelValue":l[3]||(l[3]= o=>e.tag=o),class:"m-2",placeholder:"Select",size:"large"},{default:a(()=>[(u(!0),v($,null,j(s(b).tags, o=>(u(),G(A,{key:o.t_id,label:o.name,value:o.name},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(d,{label:"活动时间"},{default:a(()=>[t(x,{modelValue:e.time,"onUpdate:modelValue":l[4]||(l[4]= o=>e.time=o),type:"datetime","value-format":"YYYY-MM-DD h:m:s ",placeholder:"选择时间"},null,8,["modelValue"])]),_:1}),t(d,{label:"总招募人数"},{default:a(()=>[t(I,{modelValue:e.need_num,"onUpdate:modelValue":l[5]||(l[5]= o=>e.need_num=o)},null,8,["modelValue"])]),_:1}),t(d,{label:"联系人"},{default:a(()=>[t(r,{modelValue:e.contact_person,"onUpdate:modelValue":l[6]||(l[6]= o=>e.contact_person=o)},null,8,["modelValue"])]),_:1}),t(d,{label:"联系人电话"},{default:a(()=>[t(r,{modelValue:e.contact_telephone,"onUpdate:modelValue":l[7]||(l[7]= o=>e.contact_telephone=o)},null,8,["modelValue"])]),_:1}),t(d,{label:"上传图片"},{default:a(()=>[t(U,{class:"upload-demo",drag:"","auto-upload":!1,limit:1,"on-change":g},{default:a(()=>[le]),_:1})]),_:1}),t(d,null,{default:a(()=>[t(_,{type:"primary",onClick:E},{default:a(()=>[V("确定")]),_:1}),t(_,{type:"danger",onClick:l[8]||(l[8]=()=>{s(f).back()})},{default:a(()=>[V("取消")]),_:1})]),_:1})]),_:1},8,["model"])])])}}});const Ue=K(ae,[["__scopeId","data-v-32ceeb4b"]]);export{Ue as default};
