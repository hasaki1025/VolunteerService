import{l as g}from "./index-8f2c80ed.js";import{E as x,a as y}from "./el-form-item-eb9f0a15.js";import{E as N}from "./el-progress-0c499e67.js";import{E as C}from "./el-date-picker-e1880471.js";import{E as k}from "./el-input-08805023.js";/* empty css                     *//* empty css                  */import{T as I,E as U}from "./index.esm-e8eeae6d.js";import{s as A}from "./news-2b878464.js";import{r as u}from "./index-8be7bc5b.js";import{h as B}from "./routes-88cdf169.js";import{q as S,s as Y,I as D,d as R,b as T,E as F,Q as m,U as e,u as r,z as a,o as M,R as _,V as P,W}from "./index-fe68f829.js";import{_ as q}from "./_plugin-vue_export-helper-c27b6911.js";import"./event-82466d06.js";import"./index-31493d86.js";import"./index-2bc64b82.js";import"./upload-ae68905d.js";const z= s=>(P("data-v-44edc4e8"),s=s(),W(),s),G={class:"container"},O={style:{border:"1px solid #ccc"},class:"editor"},Q={class:"inputs-container"},j=z(()=>m("div",{class:"el-upload__text"},"拖拽或点击上传图片",-1)),H=S({__name:"NewsAdd",setup(s){const i=Y(),f= o=>{i.value=o};D(()=>{const o=i.value;o!=null&&o.destroy()});const t=R({new_id:-1,title:"",picture:"",content:"",publish_time:""}),p=T(),h= o=>{p.value=o.raw},E=()=>{A(t.title,p.value,t.content,t.publish_time).then(o=>{console.log("sendNew: ",o.data),u.push({name:B})}).catch(o=>{console.log("sendNew",o)})};return(o, l)=>{const b=k,n=x,v=C,w=N,c=g,V=y;return M(),F("div",G,[m("div",O,[e(r(I),{style:{"border-bottom":"1px solid #ccc"},editor:r(i),defaultConfig:{},mode:"default"},null,8,["editor"]),e(r(U),{style:{height:"500px","overflow-y":"hidden"},modelValue:t.content,"onUpdate:modelValue":l[0]||(l[0]= d=>t.content=d),defaultConfig:{placeholder:"请输入内容..."},mode:"default",onOnCreated:f},null,8,["modelValue","defaultConfig"])]),m("div",Q,[e(V,{model:t,"label-width":"80px"},{default:a(()=>[e(n,{label:"标题"},{default:a(()=>[e(b,{modelValue:t.title,"onUpdate:modelValue":l[1]||(l[1]= d=>t.title=d)},null,8,["modelValue"])]),_:1}),e(n,{label:"选择时间"},{default:a(()=>[e(v,{modelValue:t.publish_time,"onUpdate:modelValue":l[2]||(l[2]= d=>t.publish_time=d),type:"datetime","value-format":"YYYY-MM-DD h:m:s ",placeholder:"选择时间"},null,8,["modelValue"])]),_:1}),e(n,{label:"选择图片"},{default:a(()=>[e(w,{class:"upload-demo",drag:"","auto-upload":!1,limit:1,"on-change":h},{default:a(()=>[j]),_:1})]),_:1}),e(n,null,{default:a(()=>[e(c,{type:"primary",onClick:E},{default:a(()=>[_("确定")]),_:1}),e(c,{type:"danger",onClick:l[3]||(l[3]=()=>{r(u).back()})},{default:a(()=>[_("取消")]),_:1})]),_:1})]),_:1},8,["model"])])])}}});const pe=q(H,[["__scopeId","data-v-44edc4e8"]]);export{pe as default};
