import{n}from "./index-8f2c80ed.js";import{u}from "./upload-ae68905d.js";import{ah as d}from "./index-fe68f829.js";const m=(a, t, o)=>(console.log(a,t,o,"---"),new Promise((r, s)=>{n({method:"POST",url:"/back/user/login",data:{username:a,password:t,role:o}}).then(e=>{const c=o==="manager"?e.data.data:e.data.data.token;d("TOKEN_1",c),r(e)}).catch(e=>{s(e)})})),b=(a, t, o)=>(console.log(a,t,o),n({method:"POST",url:"/back/user/changePass",data:{pre_pass:a,new_pass:t,confirm_pass:o}})),i=()=>n({method:"GET",url:"/back/user"}),k= a=>n({method:"DELETE",url:"/back/user",params:{uid:a}}),O=async a=>{console.log("change userInfo config: ",a);let t=null;a.avatar&&(t=(await u(a.avatar)).data.data);const{avatar:o,u_id:r,...s}=a,e=a.avatar?Object.assign({...s,uId:r},{avatar:t}):{...s,uId:r};return console.log("configObj",e),n({method:"POST",url:"/back/user/changeInfo",data:e})},P=(a, t, o, r, s, e)=>n({url:"/back/user/add",method:"POST",data:{username:a,password:t,telephone:o,email:r,sex:s,name:e}});export{O as a,P as b,b as c,k as d,i as g,m as u};
